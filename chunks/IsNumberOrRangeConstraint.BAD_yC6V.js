var H;(function(r){r[r.NO_REQUEST=-1]="NO_REQUEST",r[r.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",r[r.INVALID_METHOD=1]="INVALID_METHOD",r[r.INVALID_REQUEST=2]="INVALID_REQUEST",r[r.INVALID_CONTROLLER=3]="INVALID_CONTROLLER",r[r.INVALID_ACTION=4]="INVALID_ACTION",r[r.NO_ACTION_IN_MAP=5]="NO_ACTION_IN_MAP",r[r.NO_METHOD_HANDLER=6]="NO_METHOD_HANDLER",r[r.INVALID_METHOD_INPUT=7]="INVALID_METHOD_INPUT",r[r.REQ_BODY_EMPTY=8]="REQ_BODY_EMPTY"})(H||(H={}));var k;(function(r){r[r.OK=200]="OK",r[r.BAD_REQUEST=400]="BAD_REQUEST",r[r.UNAUTHORIZED=401]="UNAUTHORIZED",r[r.FORBIDDEN=403]="FORBIDDEN",r[r.NOT_FOUND=404]="NOT_FOUND",r[r.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR"})(k||(k={}));var J;(function(r){r[r.NORMAL_CLOSURE=1e3]="NORMAL_CLOSURE",r[r.GOING_AWAY=1001]="GOING_AWAY",r[r.PROTOCOL_ERROR=1002]="PROTOCOL_ERROR",r[r.UNSUPPORTED_DATA=1003]="UNSUPPORTED_DATA",r[r.NO_STATUS_RECEIVED=1005]="NO_STATUS_RECEIVED",r[r.ABNORMAL_CLOSURE=1006]="ABNORMAL_CLOSURE",r[r.INVALID_FRAME_PAYLOAD_DATA=1007]="INVALID_FRAME_PAYLOAD_DATA",r[r.POLICY_VIOLATION=1008]="POLICY_VIOLATION",r[r.MESSAGE_TOO_BIG=1009]="MESSAGE_TOO_BIG",r[r.MISSING_EXTENSION=1010]="MISSING_EXTENSION",r[r.INTERNAL_ERROR=1011]="INTERNAL_ERROR",r[r.SERVICE_RESTART=1012]="SERVICE_RESTART",r[r.TRY_AGAIN_LATER=1013]="TRY_AGAIN_LATER",r[r.BAD_GATEWAY=1014]="BAD_GATEWAY",r[r.TLS_HANDSHAKE=1015]="TLS_HANDSHAKE",r[r.APP_AUTHENTICATION_FAILED=4e3]="APP_AUTHENTICATION_FAILED",r[r.APP_INVALID_MESSAGE_FORMAT=4001]="APP_INVALID_MESSAGE_FORMAT"})(J||(J={}));class N{constructor(){this.timestamp=new Date}static GetInstance(...t){const e=this.name;if(!N._instances.has(e)){const n=Reflect.construct(this,t);N._instances.set(e,n)}return N._instances.get(e)}static ResetInstances(){N._instances.clear()}static ResetInstance(t){N._instances.delete(t)}}N._instances=new Map;var G=function(r,t){return G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},G(r,t)};function A(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");G(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function U(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function V(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}function B(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))}function w(r){return typeof r=="function"}function nt(r){var t=function(n){Error.call(n),n.stack=new Error().stack},e=r(t);return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var D=nt(function(r){return function(e){r(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}});function $(r,t){if(r){var e=r.indexOf(t);0<=e&&r.splice(e,1)}}var j=function(){function r(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return r.prototype.unsubscribe=function(){var t,e,n,i,o;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=U(s),c=a.next();!c.done;c=a.next()){var f=c.value;f.remove(this)}}catch(h){t={error:h}}finally{try{c&&!c.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}else s.remove(this);var u=this.initialTeardown;if(w(u))try{u()}catch(h){o=h instanceof D?h.errors:[h]}var p=this._finalizers;if(p){this._finalizers=null;try{for(var b=U(p),d=b.next();!d.done;d=b.next()){var m=d.value;try{z(m)}catch(h){o=o??[],h instanceof D?o=B(B([],V(o)),V(h.errors)):o.push(h)}}}catch(h){n={error:h}}finally{try{d&&!d.done&&(i=b.return)&&i.call(b)}finally{if(n)throw n.error}}}if(o)throw new D(o)}},r.prototype.add=function(t){var e;if(t&&t!==this)if(this.closed)z(t);else{if(t instanceof r){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}},r.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},r.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},r.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&$(e,t)},r.prototype.remove=function(t){var e=this._finalizers;e&&$(e,t),t instanceof r&&t._removeParent(this)},r.EMPTY=function(){var t=new r;return t.closed=!0,t}(),r}(),it=j.EMPTY;function ot(r){return r instanceof j||r&&"closed"in r&&w(r.remove)&&w(r.add)&&w(r.unsubscribe)}function z(r){w(r)?r():r.unsubscribe()}var lt={Promise:void 0},ft={setTimeout:function(r,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];return setTimeout.apply(void 0,B([r,t],V(e)))},clearTimeout:function(r){return clearTimeout(r)},delegate:void 0};function pt(r){ft.setTimeout(function(){throw r})}function Q(){}function E(r){r()}var st=function(r){A(t,r);function t(e){var n=r.call(this)||this;return n.isStopped=!1,e?(n.destination=e,ot(e)&&e.add(n)):n.destination=yt,n}return t.create=function(e,n,i){return new Y(e,n,i)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(j),ht=function(){function r(t){this.partialObserver=t}return r.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(n){P(n)}},r.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(n){P(n)}else P(t)},r.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(e){P(e)}},r}(),Y=function(r){A(t,r);function t(e,n,i){var o=r.call(this)||this,s;return w(e)||!e?s={next:e??void 0,error:n??void 0,complete:i??void 0}:s=e,o.destination=new ht(s),o}return t}(st);function P(r){pt(r)}function dt(r){throw r}var yt={closed:!0,next:Q,error:dt,complete:Q},bt=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function mt(r){return r}function vt(r){return r.length===0?mt:r.length===1?r[0]:function(e){return r.reduce(function(n,i){return i(n)},e)}}var K=function(){function r(t){t&&(this._subscribe=t)}return r.prototype.lift=function(t){var e=new r;return e.source=this,e.operator=t,e},r.prototype.subscribe=function(t,e,n){var i=this,o=wt(t)?t:new Y(t,e,n);return E(function(){var s=i,a=s.operator,c=s.source;o.add(a?a.call(o,c):c?i._subscribe(o):i._trySubscribe(o))}),o},r.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},r.prototype.forEach=function(t,e){var n=this;return e=Z(e),new e(function(i,o){var s=new Y({next:function(a){try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});n.subscribe(s)})},r.prototype._subscribe=function(t){var e;return(e=this.source)===null||e===void 0?void 0:e.subscribe(t)},r.prototype[bt]=function(){return this},r.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return vt(t)(this)},r.prototype.toPromise=function(t){var e=this;return t=Z(t),new t(function(n,i){var o;e.subscribe(function(s){return o=s},function(s){return i(s)},function(){return n(o)})})},r.create=function(t){return new r(t)},r}();function Z(r){var t;return(t=r??lt.Promise)!==null&&t!==void 0?t:Promise}function gt(r){return r&&w(r.next)&&w(r.error)&&w(r.complete)}function wt(r){return r&&r instanceof st||gt(r)&&ot(r)}var It=nt(function(r){return function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),M=function(r){A(t,r);function t(){var e=r.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return t.prototype.lift=function(e){var n=new q(this,this);return n.operator=e,n},t.prototype._throwIfClosed=function(){if(this.closed)throw new It},t.prototype.next=function(e){var n=this;E(function(){var i,o;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var s=U(n.currentObservers),a=s.next();!a.done;a=s.next()){var c=a.value;c.next(e)}}catch(f){i={error:f}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}})},t.prototype.error=function(e){var n=this;E(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=e;for(var i=n.observers;i.length;)i.shift().error(e)}})},t.prototype.complete=function(){var e=this;E(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var n=e.observers;n.length;)n.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(e){return this._throwIfClosed(),r.prototype._trySubscribe.call(this,e)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var n=this,i=this,o=i.hasError,s=i.isStopped,a=i.observers;return o||s?it:(this.currentObservers=null,a.push(e),new j(function(){n.currentObservers=null,$(a,e)}))},t.prototype._checkFinalizedStatuses=function(e){var n=this,i=n.hasError,o=n.thrownError,s=n.isStopped;i?e.error(o):s&&e.complete()},t.prototype.asObservable=function(){var e=new K;return e.source=this,e},t.create=function(e,n){return new q(e,n)},t}(K),q=function(r){A(t,r);function t(e,n){var i=r.call(this)||this;return i.destination=e,i.source=n,i}return t.prototype.next=function(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)},t.prototype.error=function(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)},t.prototype.complete=function(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)},t.prototype._subscribe=function(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:it},t}(M),Nt=function(r){A(t,r);function t(e){var n=r.call(this)||this;return n._value=e,n}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(e){var n=r.prototype._subscribe.call(this,e);return!n.closed&&e.next(this._value),n},t.prototype.getValue=function(){var e=this,n=e.hasError,i=e.thrownError,o=e._value;if(n)throw i;return this._throwIfClosed(),o},t.prototype.next=function(e){r.prototype.next.call(this,this._value=e)},t}(M),at={now:function(){return(at.delegate||Date).now()},delegate:void 0},F=function(r){A(t,r);function t(e,n,i){e===void 0&&(e=1/0),n===void 0&&(n=1/0),i===void 0&&(i=at);var o=r.call(this)||this;return o._bufferSize=e,o._windowTime=n,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,e),o._windowTime=Math.max(1,n),o}return t.prototype.next=function(e){var n=this,i=n.isStopped,o=n._buffer,s=n._infiniteTimeWindow,a=n._timestampProvider,c=n._windowTime;i||(o.push(e),!s&&o.push(a.now()+c)),this._trimBuffer(),r.prototype.next.call(this,e)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(e),i=this,o=i._infiniteTimeWindow,s=i._buffer,a=s.slice(),c=0;c<a.length&&!e.closed;c+=o?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),n},t.prototype._trimBuffer=function(){var e=this,n=e._bufferSize,i=e._timestampProvider,o=e._buffer,s=e._infiniteTimeWindow,a=(s?1:2)*n;if(n<1/0&&a<o.length&&o.splice(0,o.length-a),!s){for(var c=i.now(),f=0,u=1;u<o.length&&o[u]<=c;u+=2)f=u;f&&o.splice(0,f+1)}},t}(M),Tt=function(r){A(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e._value=null,e._hasValue=!1,e._isComplete=!1,e}return t.prototype._checkFinalizedStatuses=function(e){var n=this,i=n.hasError,o=n._hasValue,s=n._value,a=n.thrownError,c=n.isStopped,f=n._isComplete;i?e.error(a):(c||f)&&(o&&e.next(s),e.complete())},t.prototype.next=function(e){this.isStopped||(this._value=e,this._hasValue=!0)},t.prototype.complete=function(){var e=this,n=e._hasValue,i=e._value,o=e._isComplete;o||(this._isComplete=!0,n&&r.prototype.next.call(this,i),r.prototype.complete.call(this))},t}(M);function St(){return[]}const x={readFile:async()=>"",writeFile:async()=>null,readdir:async()=>[],stat:async()=>({isDirectory:()=>!1,isFile:()=>!0})},At={};function _t(){return null}function O(){return""}function xt(){return""}var g;(function(r){r.ARRAY="array",r.OBJECT="object",r.FUNCTION="function",r.STRING="string",r.NUMBER="number",r.BOOLEAN="boolean",r.REGEX="regex"})(g||(g={}));var X;(function(r){r.DEV="development",r.PROD="production"})(X||(X={}));class y{static GetLogSource(t=1){const e=new Error;Error.captureStackTrace(e,y.GetLogSource);const n=e.stack;if(!n)return"unknown";const s=n.split(`
`)[t+1]?.match(/([^\/\\]+\.(ts|js)):/);return s?s[1]:"unknown"}static Log(...t){const e=new Date().toLocaleTimeString(),n=y.GetLogSource();console.log(`[${e} - ${n}]`,...t)}static LogObject(t,e){const n=new Date().toLocaleTimeString();console.log(`[${n}]:`,e??"",JSON.stringify(t,null,2))}static Warn(...t){const e=new Date().toLocaleTimeString(),n=y.GetLogSource();console.error(`[${e} - ${n}] Handled Error: `,...t)}static $Log(...t){const e=new Date().toLocaleTimeString(),n=y.GetLogSource();console.error(`[${e} - ${n}]`,...t)}static secondsToMilliseconds(t){return t*1e3}static minutesToMilliseconds(t){return t*60*1e3}static hoursToMilliseconds(t){return t*60*60*1e3}static GetTimestamp(t){const e=new Date;return new Date(e.getTime()-t)}static GetDateTimestamp(t,e="DD/MM/YYYY HH:mm",n=!1){if(typeof t=="string"){const i=e.split(/[-\/. :]/),o=t.split(/[-\/. :]/);let s,a,c,f=0,u=0;if(i.forEach((b,d)=>{switch(b){case"DD":case"dd":s=parseInt(o[d],10);break;case"MM":a=parseInt(o[d],10)-1;break;case"YYYY":case"yyyy":c=parseInt(o[d],10);break;case"HH":case"hh":f=parseInt(o[d],10);break;case"mm":u=parseInt(o[d],10);break}}),s===void 0||a===void 0||c===void 0)throw new Error("Invalid date format or date string");let p;return n?p=new Date(Date.UTC(c,a,s,f,u)):p=new Date(c,a,s,f,u),p.getTime()}else return t.getTime()}static calculatePercentage(t,e){if(e===0)throw new Error("The denominator (y) cannot be zero.");return t/e}static MYSQLTimestamp(){const t=new Date,e=t.getFullYear(),n=t.getMonth()+1,i=t.getDate(),o=t.getHours(),s=t.getMinutes(),a=t.getSeconds(),c=`${e}-${n.toString().padStart(2,"0")}-${i.toString().padStart(2,"0")}`,f=`${o.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`;return`${c} ${f}`}static FormatUnixToDate(t,e=!1){return new Date(t*(e?1:1e3))}static FormatDate(t,e="MM/dd/yyyy"){try{const n=p=>p<10?`0${p}`:`${p}`;if(!t)throw new Error("Lib.FormatDate() Exception: Date is required");typeof t=="string"&&(t=new Date(t));const i=n(t.getDate()),o=n(t.getMonth()+1),s=t.getFullYear(),a=n(t.getHours()),c=n(t.getMinutes()),f=n(t.getSeconds());let u=e.replace(/DD|dd/g,i).replace(/MM/g,o).replace(/yyyy|YYYY/g,s.toString());return e.includes("HH")&&(u=u.replace(/HH/g,a)),e.toLowerCase().includes("mm")&&(u=u.replace(/mm/g,c)),e.includes("ss")&&(u=u.replace(/ss/g,f)),u}catch(n){throw n}}static DaysBetweenDates(t,e,n="MM/dd/yyyy"){if(t==null||e===null||e===void 0)throw new Error("Lib.DaysBetweenDates() Exception: Dates are required"+t+" "+e);const i=new Date(this.FormatDate(t,n)).getTime(),a=(new Date(this.FormatDate(e,n)).getTime()-i)/(1e3*3600*24);return Math.floor(a)}static IsPastDate(t,e="MM/dd/yyyy HH:mm:ss",n=!1,i){const o=c=>new Date(Math.floor(c.getTime()/1e3)*1e3),s=o(i?typeof i=="string"?new Date(i):i:new Date),a=o(typeof t=="string"?new Date(t):t);return n&&(W.Log("Now:",this.FormatDate(s,e)),W.Log("Check:",this.FormatDate(a,e))),s.getTime()>a.getTime()}static IsPastDateFrom(t,e,n="MM/dd/yyyy"){const i=this.FormatDate(e,n),o=this.FormatDate(t,n);return new Date(i).getTime()>new Date(o).getTime()}static addTimeFromDate(t,e){return new Date(typeof t=="string"?new Date(t).getTime():t.getTime()+e)}static UUID(t=36){let n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const o=Math.random()*16|0;return(i==="x"?o:o&3|8).toString(16)});for(;n.length<t;)n+=(Math.random()*16|0).toString(16);return n.substring(0,t)}static Debounce(t,e=500){let n;return(...i)=>{clearTimeout(n),n=setTimeout(()=>t(...i),e)}}static IsNil(t){return t==null}static IsPrimitive(t){return this.IsNumber(t)||this.IsString(t)||this.IsBoolean(t)}static EmptyObject(t){let e=!0;if(this.GetType(t)!=="object")return e=!1,e;if(Object.keys(t).length===0)return e=!0,e;for(const n in t)!this.IsNil(t[n])&&t[n]!==""&&(e=!1);return e}static IsNumpty(t,e=!1){return typeof t=="number"?!1:this.IsNil(t)||this.IsEmpty(t,e)}static IsEmpty(t,e=!1){return this.GetType(t)==="array"&&t.length===0&&!e||this.GetType(t)==="object"&&this.EmptyObject(t)||typeof t=="string"&&t.trim().length===0}static IsArray(t){return this.GetType(t)===g.ARRAY}static IsString(t,e=!1){return this.GetType(t,e)===g.STRING}static IsNumber(t,e=!1){return this.GetType(t,e)===g.NUMBER}static IsObject(t){return this.GetType(t)===g.OBJECT}static IsFunction(t){return this.GetType(t)===g.FUNCTION}static IsRegex(t){return this.GetType(t)===g.REGEX}static IsBoolean(t){return this.GetType(t,!0)===g.BOOLEAN}static GetType(t,e=!1){return e?typeof t:t==="0"||t==="1"?"number":t===!0?!0:t===!1?!1:t==null?null:Array.isArray(t)?"array":t instanceof RegExp?"regex":isNaN(Number(t))?typeof t=="string"?"string":{}.toString.call(t)==="[object Function]"||typeof t=="function"?"function":"object":"number"}static GetProjectRoot(t=__dirname,e="package.json"){let n=t;for(;;){const i=xt();if(i===n)throw new Error("Unable to find project root");n=i}return n}static async RunTaskWithTimeout(t,e){return Promise.race([t(),new Promise((n,i)=>setTimeout(()=>i(new Error("Task timed out")),e))])}static GetFolderPath(t){return O(this.GetProjectRoot())}static GetFilePath(t,e){return O(this.GetFolderPath(t))}static async CreateDirectory(t){const e=y.GetFolderPath(t);return await x.access(e,At.F_OK).catch(async()=>{await x.mkdir(e,{recursive:!0})}),e}static async DeleteDirectory(t){const e=O(this.GetProjectRoot());await x.rm(e,{recursive:!0,force:!0})}static async CreateFile(t,e,n){await y.CreateDirectory(t);const i=y.GetFilePath(t,e);await x.writeFile(i,n,"utf8")}static GetFile(t){return _t()}static GetFilesInDirectory(t){return St()}static async DeleteFile(t){await x.unlink(t)}static Timestamp(t=!1){const e=new Date().toLocaleTimeString();return t&&console.log(`[${e}]`),e}static RemoveWhitespace(t){return t.replace(/\s/g,"")}static msToString(t){if(t===0)return"0ms";const e=Math.floor(t/1e3),n=Math.floor(e/60),i=Math.floor(n/60);let o=i>0?`${i}h `:"";return o+=n>0?`${n%60}m `:"",o+=e%60>0?`${e%60}s `:"",o+=t%1e3>0?`${(t%1e3).toFixed(2)}ms`:"",o.trim()}static FormatPhone(t){let e=t;return e=e.replace(/\D/g,""),e.startsWith("+")||(e=`+${e}`),e}static ToMB(t,e=!0,n=2){const i=t/1024;return(e?i:i/1024).toFixed(n)}static ToGB(t,e=!0,n=2){const i=this.ToMB(t,e,n);return(parseInt(i)/1024).toFixed(n)}static async RetryHandler(t,e=3,...n){let i=0,o;for(;i<e;)try{return await t(...n)}catch(s){i++,o=s,i<=e&&!L.IsThrowable(s)&&(y.$Log(`Attempt ${i} failed. Retrying...(${t.name})`),i==1&&y.Warn(o),await new Promise(a=>setTimeout(a,1e3)))}throw o}static Difference(t,e){return t.filter(n=>!e.includes(n))}static async ReadFileContent(t){return x.readFile(t,"utf8")}static async measureExecutionTime(t,...e){const n=performance.now(),i=await t(...e),o=performance.now();return{result:i,time:this.msToString(o-n)}}static ToCamelCase(t){return t.replace(/(?:^\w|[A-Z]|\b\w)/g,(e,n)=>n===0?e.toLowerCase():e.toUpperCase()).replace(/\s+/g,"")}static ToSnakeCase(t){return t.replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase()}static ToKebebCase(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}static ToPascalCase(t){return t.replace(/(?:^\w|[A-Z]|\b\w)/g,(e,n)=>n===0?e.toUpperCase():e.toLowerCase()).replace(/\s+/g,"")}static FormatNumber(t,e,n=","){let[i,o]=t.toString().split(".");if(i=i.replace(/\B(?=(\d{3})+(?!\d))/g,n),e!==void 0){const s=t.toFixed(e),[a,c]=s.split(".");return i=a.replace(/\B(?=(\d{3})+(?!\d))/g,n),c?`${i}.${c}`:i}return o?`${i}.${o}`:i}}class W{static Log(...t){}static $Log(...t){}static LogObject(t,e){}static GetLocalIpAddress(){try{const{networkInterfaces:t}=require("os"),e=t();for(const n of Object.keys(e))for(const i of e[n])if(!i.internal&&i.family==="IPv4")return i.address;return"127.0.0.1"}catch{return"127.0.0.1"}}}var S;(function(r){r.SUBJECT="subject",r.ASYNC_SUBJECT="asyncSubject",r.BEHAVIOR_SUBJECT="behaviorSubject",r.REPLAY_SUBJECT="replaySubject"})(S||(S={}));class C extends N{constructor(){super(...arguments),this.namespaces=new Map}create(t,e=S.SUBJECT){this.namespaces.has(t)||this.namespaces.set(t,new Mt(e))}has(t){return this.namespaces.has(t)}next(t,e){this.namespaces.get(t)?.next(e)}subscribe(t,e){const n=this.namespaces.get(t);if(!n)throw new Error(`Namespace ${t} not found`);return n.subscribe(i=>e(i))}clear(t){this.namespaces.get(t)?.clear()}static Next(t,e){const n=C.GetInstance();n.create(t),n.next(t,e)}static Subscribe(t,e){const n=C.GetInstance();return n.create(t),n.subscribe(t,e)}}class Mt{constructor(t){switch(this.subscriptions=new j,t){case S.SUBJECT:this.subject=new M;break;case S.ASYNC_SUBJECT:this.subject=new Tt;break;case S.BEHAVIOR_SUBJECT:this.subject=new Nt(null);break;case S.REPLAY_SUBJECT:this.subject=new F;break;default:this.subject=new M}}next(t){this.subject.next(t)}asObservable(){return this.subject.asObservable()}clear(){if(this.subject instanceof F){const t=this.subject._subscribers,e=this.subject._bufferSize,n=this.subject._windowTime,i=new F(e,n);i.subscribe(t),this.subject=i}}set add(t){this.subscriptions.add(t)}subscribe(t){if(typeof t!="function")throw"Failed to subscribe. Please provide a callback function";const e=this.asObservable().subscribe(n=>{y.IsNumpty(n)||!n.hasOwnProperty("cta")||t(n)});return this.subscriptions.add(e),e}unsubscribe(){this.subscriptions.unsubscribe()}}class I{static IsString(t,e=!1,n=!1){const i=y.IsString(t,e);return n?!I.IsNil(t)&&i:i}static IsNumber(t,e=!1,n=!1){const i=y.IsNumber(t,e);return n?!I.IsNil(t)&&i:i}static IsBoolean(t,e=!1){const n=y.GetType(t,!0)==="boolean";return e?!I.IsNil(t)&&n:n}static IsArray(t,e=!1){const n=y.IsArray(t);return e?!I.IsNil(t)&&n:n}static IsObject(t,e=!1){const n=y.IsObject(t);return e?!I.IsNil(t)&&n:n}static IsFunction(t,e=!1){const n=y.IsFunction(t);return e?!I.IsNil(t)&&n:n}static IsNil(t){return y.IsNil(t)}static IsType(t,e){return e?e.every(n=>n in t):!this.IsNil(t)}}var Lt=function(){function r(t){this.groups=[],this.each=!1,this.context=void 0,this.type=t.type,this.name=t.name,this.target=t.target,this.propertyName=t.propertyName,this.constraints=t?.constraints,this.constraintCls=t.constraintCls,this.validationTypeOptions=t.validationTypeOptions,t.validationOptions&&(this.message=t.validationOptions.message,this.groups=t.validationOptions.groups,this.always=t.validationOptions.always,this.each=t.validationOptions.each,this.context=t.validationOptions.context)}return r}(),jt=function(){function r(){}return r.prototype.transform=function(t){var e=[];return Object.keys(t.properties).forEach(function(n){t.properties[n].forEach(function(i){var o={message:i.message,groups:i.groups,always:i.always,each:i.each},s={type:i.type,name:i.name,target:t.name,propertyName:n,constraints:i.constraints,validationTypeOptions:i.options,validationOptions:o};e.push(new Lt(s))})}),e},r}();function Pt(){if(typeof globalThis<"u")return globalThis;if(typeof global<"u")return global;if(typeof window<"u")return window;if(typeof self<"u")return self}var Et=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},R=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},Dt=function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},Ft=function(){function r(){this.validationMetadatas=new Map,this.constraintMetadatas=new Map}return Object.defineProperty(r.prototype,"hasValidationMetaData",{get:function(){return!!this.validationMetadatas.size},enumerable:!1,configurable:!0}),r.prototype.addValidationSchema=function(t){var e=this,n=new jt().transform(t);n.forEach(function(i){return e.addValidationMetadata(i)})},r.prototype.addValidationMetadata=function(t){var e=this.validationMetadatas.get(t.target);e?e.push(t):this.validationMetadatas.set(t.target,[t])},r.prototype.addConstraintMetadata=function(t){var e=this.constraintMetadatas.get(t.target);e?e.push(t):this.constraintMetadatas.set(t.target,[t])},r.prototype.groupByPropertyName=function(t){var e={};return t.forEach(function(n){e[n.propertyName]||(e[n.propertyName]=[]),e[n.propertyName].push(n)}),e},r.prototype.getTargetValidationMetadatas=function(t,e,n,i,o){var s,a,c=function(l){return typeof l.always<"u"?l.always:l.groups&&l.groups.length?!1:n},f=function(l){return!!(i&&(!o||!o.length)&&l.groups&&l.groups.length)},u=this.validationMetadatas.get(t)||[],p=u.filter(function(l){return l.target!==t&&l.target!==e?!1:c(l)?!0:f(l)?!1:o&&o.length>0?l.groups&&!!l.groups.find(function(_){return o.indexOf(_)!==-1}):!0}),b=[];try{for(var d=Et(this.validationMetadatas.entries()),m=d.next();!m.done;m=d.next()){var h=R(m.value,2),v=h[0],T=h[1];t.prototype instanceof v&&b.push.apply(b,Dt([],R(T),!1))}}catch(l){s={error:l}}finally{try{m&&!m.done&&(a=d.return)&&a.call(d)}finally{if(s)throw s.error}}var ct=b.filter(function(l){return typeof l.target=="string"||l.target===t||l.target instanceof Function&&!(t.prototype instanceof l.target)?!1:c(l)?!0:f(l)?!1:o&&o.length>0?l.groups&&!!l.groups.find(function(_){return o.indexOf(_)!==-1}):!0}),ut=ct.filter(function(l){return!p.find(function(_){return _.propertyName===l.propertyName&&_.type===l.type})});return p.concat(ut)},r.prototype.getTargetValidatorConstraints=function(t){return this.constraintMetadatas.get(t)||[]},r}();function Ot(){var r=Pt();return r.classValidatorMetadataStorage||(r.classValidatorMetadataStorage=new Ft),r.classValidatorMetadataStorage}var Gt=new(function(){function r(){this.instances=[]}return r.prototype.get=function(t){var e=this.instances.find(function(n){return n.type===t});return e||(e={type:t,object:new t},this.instances.push(e)),e.object},r}());function Ut(r){return Gt.get(r)}var Vt=function(){function r(t,e,n){n===void 0&&(n=!1),this.target=t,this.name=e,this.async=n}return Object.defineProperty(r.prototype,"instance",{get:function(){return Ut(this.target)},enumerable:!1,configurable:!0}),r}();function Bt(r){return function(t){var e=r&&r.async,n=r&&r.name?r.name:"";n||(n=t.name,n||(n=n.replace(/\.?([A-Z]+)/g,function(o,s){return"_"+s.toLowerCase()}).replace(/^_/,"")));var i=new Vt(t,n,e);Ot().addConstraintMetadata(i)}}class L extends Error{constructor(t,e={}){const{logError:n=!0,context:i}=e,o=I.IsString(t)?t:t instanceof Error?t.message:JSON.stringify(t);super(o),this.isDeliberate=!0,this.name="Throwable",this.context=i,n&&(i?y.$Log("Throwable: ",o,"Context:",i):y.$Log("Throwable: ",t)),t instanceof Error&&(this.stack=t.stack,this.cause=t.cause,this.originalError=t)}static IsThrowable(t){return t instanceof L}static from(t,e){return t instanceof L?t:new L(t,{context:e})}}var tt;(function(r){r.CLIENT_CONNECTED="client.connected",r.CLIENT_DISCONNECTED="client.disconnected",r.CLIENT_JOIN_CHANNEL="client.join.channel",r.CLIENT_LEAVE_CHANNEL="client.leave.channel",r.CLIENT_JOIN_CHANNELS="client.join.channels",r.CLIENT_LEAVE_CHANNELS="client.leave.channels",r.PING="ping",r.PONG="pong",r.MESSAGE="message",r.WHISPER="whisper",r.BROADCAST="broadcast",r.PROMPT="prompt",r.ERROR="error",r.SYSTEM="system"})(tt||(tt={}));var et;(function(r){r[r.LOW=0]="LOW",r[r.MEDIUM=1]="MEDIUM",r[r.HIGH=2]="HIGH"})(et||(et={}));var rt;(function(r){r.CONNECTING="connecting",r.CONNECTED="connected",r.DISCONNECTING="disconnecting",r.DISCONNECTED="disconnected"})(rt||(rt={}));var $t=function(r,t,e,n,i,o){function s(T){if(T!==void 0&&typeof T!="function")throw new TypeError("Function expected");return T}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",f=!t&&r?n.static?r:r.prototype:null,u=t||(f?Object.getOwnPropertyDescriptor(f,n.name):{}),p,b=!1,d=e.length-1;d>=0;d--){var m={};for(var h in n)m[h]=h==="access"?{}:n[h];for(var h in n.access)m.access[h]=n.access[h];m.addInitializer=function(T){if(b)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(T||null))};var v=(0,e[d])(a==="accessor"?{get:u.get,set:u.set}:u[c],m);if(a==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(p=s(v.get))&&(u.get=p),(p=s(v.set))&&(u.set=p),(p=s(v.init))&&i.unshift(p)}else(p=s(v))&&(a==="field"?i.unshift(p):u[c]=p)}f&&Object.defineProperty(f,n.name,u),b=!0},Yt=function(r,t,e){for(var n=arguments.length>2,i=0;i<t.length;i++)e=n?t[i].call(r,e):t[i].call(r);return n?e:void 0},Ct=function(r,t,e){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(r,"name",{configurable:!0,value:e?"".concat(e," ",t):t})};(()=>{let r=[Bt({name:"isNumberOrRange",async:!1})],t,e=[],n;return n=class{validate(i,o){return typeof i=="number"&&!isNaN(i)?!0:Array.isArray(i)?!(i.length!==2||typeof i[0]!="number"||isNaN(i[0])||typeof i[1]!="number"||isNaN(i[1])||i[0]>i[1]):!1}defaultMessage(i){return"Value must be a number or a 2-element number array [min, max]"}},Ct(n,"IsNumberOrRangeConstraint"),(()=>{const i=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;$t(null,t={value:n},r,{kind:"class",name:n.name,metadata:i},null,e),n=t.value,i&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i}),Yt(n,e)})(),n})();export{I as G,y as L,C as R};
