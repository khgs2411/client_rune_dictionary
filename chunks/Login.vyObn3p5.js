import{d as g,u as q,c as z,w as c,r as x,m as C,a as s,P as N,o as f,b as U,e as E,v as I,f as b,n as S,g as h,i as M,h as D,j as R,k as G,l as V,p as P,q as n,s as u,t as T,x as j,y as A,_ as w,z as F,A as v}from"./index.BxV0eWTe.js";import{A as O}from"./auth.api.CErS-Rg5.js";import"./IsNumberOrRangeConstraint.B_UE5vHo.js";var Y=g({__name:"Label",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"label"}},setup(i){const o=i;return q(),(t,r)=>(f(),z(s(N),C(o,{onMousedown:r[0]||(r[0]=a=>{!a.defaultPrevented&&a.detail>1&&a.preventDefault()})}),{default:c(()=>[x(t.$slots,"default")]),_:3},16))}}),H=Y;const L=g({__name:"Input",props:{defaultValue:{},modelValue:{},class:{}},emits:["update:modelValue"],setup(i,{emit:o}){const t=i,a=U(t,"modelValue",o,{passive:!0,defaultValue:t.defaultValue});return(p,d)=>E((f(),b("input",{"onUpdate:modelValue":d[0]||(d[0]=_=>M(a)?a.value=_:null),class:S(s(h)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t.class))},null,2)),[[I,s(a)]])}}),k=g({__name:"Label",props:{for:{},asChild:{type:Boolean},as:{},class:{}},setup(i){const o=i,t=D(o,"class");return(r,a)=>(f(),z(s(H),C(s(t),{class:s(h)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",o.class)}),{default:c(()=>[x(r.$slots,"default")]),_:3},16,["class"]))}}),J=R("flex w-fit items-stretch [&>*:focus-visible]:z-10 [&>*:focus-visible]:relative [&>[data-slot=select-trigger]:not([class*='w-'])]:w-fit [&>input]:flex-1 has-[select[aria-hidden=true]:last-child]:[&>[data-slot=select-trigger]:last-of-type]:rounded-r-md has-[>[data-slot=button-group]]:gap-2",{variants:{orientation:{horizontal:"[&>*:not(:first-child)]:rounded-l-none [&>*:not(:first-child)]:border-l-0 [&>*:not(:last-child)]:rounded-r-none",vertical:"flex-col [&>*:not(:first-child)]:rounded-t-none [&>*:not(:first-child)]:border-t-0 [&>*:not(:last-child)]:rounded-b-none"}},defaultVariants:{orientation:"horizontal"}}),K=["data-orientation"],Q=g({__name:"ButtonGroup",props:{class:{},orientation:{}},setup(i){const o=i;return(t,r)=>(f(),b("div",{role:"group","data-slot":"button-group","data-orientation":o.orientation,class:S(s(h)(s(J)({orientation:o.orientation}),o.class))},[x(t.$slots,"default")],10,K))}}),W={class:"min-h-svh w-full flex items-center justify-center bg-background px-4 py-8"},X={class:"absolute top-20 right-4"},Z={class:"w-full max-w-sm space-y-6"},ee={class:"rounded-lg border border-border bg-card p-6 shadow-lg space-y-4"},te={class:"space-y-2"},se={class:"space-y-2"},ae={key:0,class:"rounded-md bg-destructive/10 p-3 text-sm text-destructive"},ne=g({__name:"Login",setup(i){const o=F(),t=G(),r=V(()=>t.username),a=V(()=>t.password),p=P(!1),d=P(""),_=[{username:"tal",password:"Aa123123"},{username:"yazin",password:"r_d_0733e6dd-f421-46cf-bf8a-72a2898f91e6"}];function y(m,e){m.preventDefault();const l=_.find(B=>B.username===e);l&&(t.username=l.username,t.password=l.password)}async function $(){if(!r.value||!a.value){d.value="Please enter both username and password";return}p.value=!0,d.value="";try{const e=await new O().login(r.value,a.value);e.authorized?(console.log("✅ Login successful!"),t.setAuth(r.value),o.push("/game")):d.value=e.msg||"Login failed"}catch(m){console.error("❌ Login error:",m),d.value="An error occurred. Please try again."}finally{p.value=!1}}return(m,e)=>(f(),b("div",W,[n("div",X,[u(Q,null,{default:c(()=>[u(s(w),{variant:"outline",onClick:e[0]||(e[0]=l=>y(l,"tal"))},{default:c(()=>[...e[4]||(e[4]=[v("Tal",-1)])]),_:1}),u(s(w),{variant:"outline",onClick:e[1]||(e[1]=l=>y(l,"yazin"))},{default:c(()=>[...e[5]||(e[5]=[v("Yazin",-1)])]),_:1})]),_:1})]),n("div",Z,[e[8]||(e[8]=n("div",{class:"text-center space-y-1"},[n("h1",{class:"text-3xl font-bold tracking-tight text-foreground"},"RUNE RPG"),n("p",{class:"text-sm text-muted-foreground"},"Sign in to continue")],-1)),n("div",ee,[n("form",{onSubmit:T($,["prevent"]),class:"space-y-4"},[n("div",te,[u(s(k),{for:"username"},{default:c(()=>[...e[6]||(e[6]=[v("Username",-1)])]),_:1}),u(s(L),{id:"username",modelValue:r.value,"onUpdate:modelValue":e[2]||(e[2]=l=>r.value=l),type:"text",placeholder:"Enter username",required:"",disabled:p.value,autocomplete:"username"},null,8,["modelValue","disabled"])]),n("div",se,[u(s(k),{for:"password"},{default:c(()=>[...e[7]||(e[7]=[v("Password",-1)])]),_:1}),u(s(L),{id:"password",modelValue:a.value,"onUpdate:modelValue":e[3]||(e[3]=l=>a.value=l),type:"password",placeholder:"Enter password",required:"",disabled:p.value,autocomplete:"current-password"},null,8,["modelValue","disabled"])]),d.value?(f(),b("div",ae,A(d.value),1)):j("",!0),u(s(w),{type:"submit",class:"w-full h-11",disabled:p.value},{default:c(()=>[v(A(p.value?"Signing in...":"Sign In"),1)]),_:1},8,["disabled"])],32)]),e[9]||(e[9]=n("p",{class:"text-center text-xs text-muted-foreground"},"Need an account? Contact admin",-1))])]))}});export{ne as default};
