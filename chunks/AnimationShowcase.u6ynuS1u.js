var gt=Object.defineProperty;var ht=(i,s,l)=>s in i?gt(i,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[s]=l;var E=(i,s,l)=>ht(i,typeof s!="symbol"?s+"":s,l);import{H as I,f as g,O as N,aa as it,ab as yt,d as At,ac as u,c as O,b as y,a as t,w as M,u as n,m as _,e as B,n as P,G as T,s as Y,h as X,ad as Z,F as nt,r as at,A as Ct,o as D,_ as It}from"./index.BCRmze3N.js";const F={CRITICAL:100,TRANSITION:300,DECORATIVE:500};class Rt{constructor(){E(this,"frames",0);E(this,"lastTime",0);E(this,"frameRate",I(60));E(this,"isMonitoring",!1);E(this,"rafId",null);E(this,"tick",()=>{if(!this.isMonitoring)return;this.frames++;const s=performance.now(),l=s-this.lastTime;l>=1e3&&(this.frameRate.value=Math.round(this.frames*1e3/l),this.frames=0,this.lastTime=s),this.rafId=requestAnimationFrame(this.tick)})}start(){this.isMonitoring||(this.isMonitoring=!0,this.lastTime=performance.now(),this.tick())}stop(){this.isMonitoring=!1,this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=null)}get fps(){return this.frameRate}}const L=new Rt,k=I(!1),st=window.matchMedia("(prefers-reduced-motion: reduce)"),ot=()=>{k.value=st.matches};st.addEventListener("change",ot);ot();const x=I([]),Mt=100;function rt(){const i=I(!1);yt()?(N(()=>{L.start(),i.value=!0}),it(()=>{L.stop(),i.value=!1})):(L.start(),i.value=!0);const l=(e,r)=>{const c=F[r],p=e<=c;return p||console.warn(`Animation budget exceeded: ${e}ms > ${c}ms for ${r} animation`),p},v=(e,r)=>{const c=Math.max(0,60-L.fps.value),p={duration:e,category:r,frameRate:L.fps.value,frameDrops:c,timestamp:Date.now()};x.value.push(p),x.value.length>Mt&&x.value.shift(),l(e,r)},h=(e,r)=>k.value?Math.min(100,r||F[e]):r||F[e],A=(e,r)=>{const c=h(e,r)/1e3;return{duration:c,ease:k.value?"linear":"easeOut",onComplete:()=>{v(c*1e3,e)}}},d=g(()=>!k.value&&L.fps.value>30),o=g(()=>{const e=x.value.slice(-20);if(e.length===0)return{averageFps:60,averageFrameDrops:0,budgetViolations:0,totalAnimations:0};const r=e.reduce((m,f)=>m+f.frameRate,0)/e.length,c=e.reduce((m,f)=>m+f.frameDrops,0)/e.length,p=e.filter(m=>m.duration>F[m.category]).length;return{averageFps:Math.round(r),averageFrameDrops:Math.round(c),budgetViolations:p,totalAnimations:x.value.length}});return{prefersReducedMotion:k,currentFps:L.fps,shouldAnimate:d,isMonitoring:i,validateBudget:l,recordMetrics:v,getOptimalDuration:h,createAnimationConfig:A,getPerformanceStats:o,BUDGETS:F}}const{prefersReducedMotion:C,shouldAnimate:lt,createAnimationConfig:G}=rt();function H(i="DECORATIVE",s={}){const{threshold:l=.1,delay:v=0,customDuration:h,direction:A="up"}=s,d=I(!1),o=I();let e=null;const r=()=>{if(C.value)return{opacity:0};switch(A){case"up":return{opacity:0,y:40,scale:.95};case"down":return{opacity:0,y:-40,scale:.95};case"left":return{opacity:0,x:40,scale:.95};case"right":return{opacity:0,x:-40,scale:.95};case"scale":return{opacity:0,scale:.8};default:return{opacity:0,y:40,scale:.95}}},c=()=>({opacity:1,x:0,y:0,scale:1}),p=g(()=>({...G(i,h),delay:v/1e3,type:C.value?void 0:"spring",stiffness:C.value?void 0:100,damping:C.value?void 0:15,mass:C.value?void 0:1}));N(()=>{o.value&&(e=new IntersectionObserver(f=>{f.forEach(b=>{b.isIntersecting&&(d.value=!0,e==null||e.disconnect())})},{threshold:l}),e.observe(o.value))}),it(()=>{e==null||e.disconnect()});const m=()=>({...d.value?c():r()});return{element:o,isVisible:d,initial:{...r()},animate:g(m),transition:{...p}}}function tt(i="CRITICAL",s={}){const{scale:l=1.05,translateY:v=-2,rotateY:h=0,customDuration:A}=s,d=I(!1),o=g(()=>({...G(i,A),type:C.value?void 0:"spring",stiffness:C.value?void 0:200,damping:C.value?void 0:20})),e=g(()=>lt.value?d.value?{scale:l,y:v,rotateY:h,opacity:1}:{scale:1,y:0,rotateY:0,opacity:1}:{opacity:1,scale:1,y:0,rotateY:0});return{isHovered:d,animate:e,transition:o,handlers:{onMouseenter:()=>{d.value=!0},onMouseleave:()=>{d.value=!1}}}}function _t(i,s="DECORATIVE",l={}){const{staggerDelay:v=100,customDuration:h,direction:A="up"}=l,d=I(!1),o=()=>{if(C.value)return{opacity:0};switch(A){case"up":return{opacity:0,y:20};case"down":return{opacity:0,y:-20};case"left":return{opacity:0,x:20};case"right":return{opacity:0,x:-20};default:return{opacity:0,y:20}}},e=m=>{const f=d.value?m*v/1e3:0,b=G(s,h);return{state:{opacity:1,x:0,y:0},transition:{...b,delay:f,type:C.value?void 0:"spring",stiffness:C.value?void 0:80,damping:C.value?void 0:12}}},r=()=>{d.value=!0},c=()=>{d.value=!1},p=g(()=>Array.from({length:i},(m,f)=>{const b=e(f);return{initial:{...o()},animate:d.value?{...b.state}:{...o()},transition:{...b.transition}}}));return{isTriggered:d,items:p,trigger:r,reset:c}}function bt(i="CRITICAL"){const s=I(!1),l=g(()=>!lt.value||!s.value?{scale:1,opacity:1}:{scale:[1,1.05,1],opacity:[.7,1,.7]}),v=g(()=>({...G(i,1e3),repeat:1/0,ease:"easeInOut"}));return{isLoading:s,animate:l,transition:v,start:()=>{s.value=!0},stop:()=>{s.value=!1}}}const U=I(!1),et=I(!1);let V=null;function ct(){if(typeof window>"u")return;V=window.matchMedia("(prefers-reduced-motion: reduce)");const i=()=>{U.value=(V==null?void 0:V.matches)??!1};i(),V.addEventListener?V.addEventListener("change",i):V.addListener(i)}typeof window<"u"&&ct();function wt(){N(()=>{ct()});const i=g(()=>U.value||et.value),s=o=>{et.value=o},l=(o="all",e=300,r="ease-out")=>i.value?`${o} 0.01s linear`:`${o} ${e}ms ${r}`,v=o=>i.value?"none":o.join(" "),h=(o,e=300,r="ease-out",c=1)=>i.value?"none":`${o} ${e}ms ${r} ${c}`,A=g(()=>({"motion-safe":!i.value,"motion-reduce":i.value,"prefers-reduced-motion":U.value,"forced-reduced-motion":et.value}));return{prefersReducedMotion:U,isReducedMotion:i,motionClasses:A,setForcedReducedMotion:s,getTransition:l,getTransform:v,getAnimation:h,getMotionConfig:o=>i.value?{...o,transition:{duration:.01,ease:"linear"}}:o}}const Tt={class:"animation-showcase rpg-container"},St={class:"showcase-controls mb-8"},Et={class:"control-group"},Lt={class:"control-label"},Vt=["checked"],Dt={class:"performance-stats"},Ft={class:"stat"},xt={class:"stat"},kt={class:"stat-value"},$t={class:"stat"},Ot={class:"showcase-grid"},Bt={class:"showcase-section"},Pt={class:"demo-grid"},Yt={class:"showcase-section"},Ht={class:"demo-grid"},Ut={class:"showcase-section"},Nt={class:"stagger-demo"},Gt={class:"stagger-controls"},zt={class:"showcase-section"},jt={class:"loading-demo"},qt={class:"loading-controls"},Jt={class:"showcase-section"},Kt={class:"budget-demo"},Qt={class:"budget-categories"},Wt={class:"budget-label"},Xt={class:"budget-value"},Zt=At({__name:"AnimationShowcase",setup(i){const{currentFps:s,createAnimationConfig:l,getPerformanceStats:v,BUDGETS:h}=rt(),{isReducedMotion:A,motionClasses:d,setForcedReducedMotion:o}=wt(),e=I(!1),r=l("DECORATIVE",500),c=H("DECORATIVE",{direction:"up",delay:100}),p=H("DECORATIVE",{direction:"left",delay:200}),m=H("DECORATIVE",{direction:"scale",delay:300}),f=H("DECORATIVE",{delay:400}),b=g(()=>({initial:u(c.initial),animate:u(c.animate),transition:u(c.transition)})),z=g(()=>({initial:u(p.initial),animate:u(p.animate),transition:u(p.transition)})),j=g(()=>({initial:u(m.initial),animate:u(m.animate),transition:u(m.transition)})),q=g(()=>({initial:u(f.initial),animate:u(f.animate),transition:u(f.transition)})),J=tt("CRITICAL",{scale:1.1,translateY:-4}),K=tt("CRITICAL",{scale:1.02,translateY:-8}),Q=tt("CRITICAL",{rotateY:10,scale:1.05}),$=_t(8,"DECORATIVE",{staggerDelay:100}),S=bt("CRITICAL"),ut=()=>{e.value=!e.value,o(e.value)},dt=()=>{c.isVisible.value=!1,p.isVisible.value=!1,m.isVisible.value=!1,f.isVisible.value=!1,setTimeout(()=>{c.isVisible.value=!0,p.isVisible.value=!0,m.isVisible.value=!0,f.isVisible.value=!0},100)},mt=()=>{$.trigger()},ft=()=>{$.reset()},vt=()=>{S.isLoading.value?S.stop():S.start()},pt=W=>{console.log(`Testing ${W} animation within ${h[W]}ms budget`)};return N(()=>{setTimeout(()=>{$.trigger()},1e3)}),(W,a)=>(D(),O("div",Tt,[y(n(_).h1,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:n(r),class:"showcase-title"},{default:M(()=>a[0]||(a[0]=[B(" Animation System Showcase ")])),_:1},8,["transition"]),t("div",St,[t("div",Et,[t("label",Lt,[t("input",{type:"checkbox",checked:e.value,onChange:ut},null,40,Vt),a[1]||(a[1]=B(" Force Reduced Motion (Testing) "))]),t("span",{class:P(["motion-status",n(d)])},T(n(A)?"Reduced Motion Active":"Full Motion Active"),3)]),t("div",Dt,[t("div",Ft,[a[2]||(a[2]=t("span",{class:"stat-label"},"FPS:",-1)),t("span",{class:P(["stat-value",{"stat-warning":n(s)<30}])},T(n(s)),3)]),t("div",xt,[a[3]||(a[3]=t("span",{class:"stat-label"},"Animations:",-1)),t("span",kt,T(n(v).totalAnimations),1)]),t("div",$t,[a[4]||(a[4]=t("span",{class:"stat-label"},"Budget Violations:",-1)),t("span",{class:P(["stat-value",{"stat-error":n(v).budgetViolations>0}])},T(n(v).budgetViolations),3)])])]),t("div",Ot,[t("section",Bt,[a[9]||(a[9]=t("h2",{class:"section-title"},"Entrance Animations",-1)),t("div",Pt,[y(n(_).div,{ref:"entranceUp.element",initial:b.value.initial,animate:b.value.animate,transition:b.value.transition,class:"demo-card"},{default:M(()=>a[5]||(a[5]=[t("i",{class:"pi pi-arrow-up demo-icon"},null,-1),t("span",null,"Slide Up",-1)])),_:1},8,["initial","animate","transition"]),y(n(_).div,{ref:"entranceLeft.element",initial:z.value.initial,animate:z.value.animate,transition:z.value.transition,class:"demo-card"},{default:M(()=>a[6]||(a[6]=[t("i",{class:"pi pi-arrow-left demo-icon"},null,-1),t("span",null,"Slide Left",-1)])),_:1},8,["initial","animate","transition"]),y(n(_).div,{ref:"entranceScale.element",initial:j.value.initial,animate:j.value.animate,transition:j.value.transition,class:"demo-card"},{default:M(()=>a[7]||(a[7]=[t("i",{class:"pi pi-expand demo-icon"},null,-1),t("span",null,"Scale",-1)])),_:1},8,["initial","animate","transition"]),y(n(_).div,{ref:"entranceFade.element",initial:q.value.initial,animate:q.value.animate,transition:q.value.transition,class:"demo-card"},{default:M(()=>a[8]||(a[8]=[t("i",{class:"pi pi-eye demo-icon"},null,-1),t("span",null,"Fade In",-1)])),_:1},8,["initial","animate","transition"])]),y(n(Y),{onClick:dt,label:"Replay Entrance",outlined:""})]),t("section",Yt,[a[13]||(a[13]=t("h2",{class:"section-title"},"Hover Animations",-1)),t("div",Ht,[y(n(_).div,X({initial:{opacity:1,scale:1,y:0,rotateY:0},animate:u(n(J).animate),transition:u(n(J).transition)},Z(n(J).handlers),{class:"demo-card interactive"}),{default:M(()=>a[10]||(a[10]=[t("i",{class:"pi pi-expand demo-icon"},null,-1),t("span",null,"Hover Scale",-1)])),_:1},16,["animate","transition"]),y(n(_).div,X({initial:{opacity:1,scale:1,y:0,rotateY:0},animate:u(n(K).animate),transition:u(n(K).transition)},Z(n(K).handlers),{class:"demo-card interactive"}),{default:M(()=>a[11]||(a[11]=[t("i",{class:"pi pi-arrow-up demo-icon"},null,-1),t("span",null,"Hover Lift",-1)])),_:1},16,["animate","transition"]),y(n(_).div,X({initial:{opacity:1,scale:1,y:0,rotateY:0},animate:u(n(Q).animate),transition:u(n(Q).transition)},Z(n(Q).handlers),{class:"demo-card interactive"}),{default:M(()=>a[12]||(a[12]=[t("i",{class:"pi pi-refresh demo-icon"},null,-1),t("span",null,"Hover Rotate",-1)])),_:1},16,["animate","transition"])])]),t("section",Ut,[a[14]||(a[14]=t("h2",{class:"section-title"},"Stagger Animations",-1)),t("div",Nt,[(D(!0),O(nt,null,at(n($).items.value||[],(R,w)=>(D(),Ct(n(_).div,{key:w,initial:(R==null?void 0:R.initial)||{opacity:0},animate:(R==null?void 0:R.animate)||{opacity:1},transition:(R==null?void 0:R.transition)||{duration:.3},class:"stagger-item"},{default:M(()=>[B(T(w+1),1)]),_:2},1032,["initial","animate","transition"]))),128))]),t("div",Gt,[y(n(Y),{onClick:mt,label:"Trigger Stagger",outlined:""}),y(n(Y),{onClick:ft,label:"Reset Stagger",text:""})])]),t("section",zt,[a[16]||(a[16]=t("h2",{class:"section-title"},"Loading Animations",-1)),t("div",jt,[y(n(_).div,{initial:{scale:1,opacity:1},animate:u(n(S).animate),transition:u(n(S).transition),class:P(["loading-indicator",{active:n(S).isLoading}])},{default:M(()=>a[15]||(a[15]=[t("i",{class:"pi pi-spin pi-spinner demo-icon"},null,-1),t("span",null,"Loading...",-1)])),_:1},8,["animate","transition","class"])]),t("div",qt,[y(n(Y),{onClick:vt,label:n(S).isLoading?"Stop Loading":"Start Loading",outlined:""},null,8,["label"])])]),t("section",Jt,[a[17]||(a[17]=t("h2",{class:"section-title"},"Performance Budget Demo",-1)),t("div",Kt,[t("div",Qt,[(D(!0),O(nt,null,at(n(h),(R,w)=>(D(),O("div",{class:"budget-item",key:w},[t("span",Wt,T(w)+":",1),t("span",Xt,T(R)+"ms",1),y(n(_).div,{animate:{x:[0,20,0]},transition:n(l)(w),class:"budget-demo-item",onClick:te=>pt(w)},{default:M(()=>[B(" Test "+T(w),1)]),_:2},1032,["transition","onClick"])]))),128))])])])])]))}}),ae=It(Zt,[["__scopeId","data-v-ed31eece"]]);export{ae as default};
